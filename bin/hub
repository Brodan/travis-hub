#!/usr/bin/env ruby

$stdout.sync = true

$LOAD_PATH << 'lib'

require 'bundler/setup'
require 'travis/hub'

type = ARGV.shift || fail("Need to specify a run-mode [solo|dispatcher|worker]")
args = ARGV.map { |arg| arg.gsub(/\D/, '').to_i }

Travis::Hub::App.run(type, *args)
